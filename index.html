<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoBrain 2025 - Complexity in the Brain | CCS 2025 Satellite</title>
    <link rel="stylesheet" href="style.css">
    <!-- Twitter tags -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:site" content="@GaticaMarilyn"/>
    <meta name="twitter:site:id" content="@GaticaMarilyn"/>
    <meta name="twitter:creator" content="@GaticaMarilyn"/>
    <meta name="twitter:creator:id" content="@GaticaMarilyn"/>
    <meta name="twitter:title" content="Satellite Complexity in the Brain: CoBrain (CCS*2025)"/>
    <meta name="twitter:description" content="Overview, list of speakers, and schedule"/>
    <!-- <meta name="twitter:image" content="cobrain4.png"/> -->
    <meta name="twitter:image:alt" content="Complexity in the Brain"/>
    <!-- end Twitter tags -->
    
    <style>
        .main-conference-row {
            background-color: #f2f8fd; /* Light blue background */
            font-style: italic;
        }
        .main-conference-row .session-title {
            color: #3078b4; /* Darker blue text */
            font-weight: bold;
        }
    </style>
</head>

<body>
    <nav id="top-nav">
        <div class="container">
            <ul>
                <li><a href="#about">About</a></li>
                <li><a href="#keynote-speakers">Speakers</a></li>
                <li><a href="#call-section">Call for Contributions</a></li>
                <li><a href="#program">Program</a></li>
                <li><a href="#abst">Abstracts</a></li>
                <li><a href="#organizing-committee">Organizers</a></li>
                <li><a href="https://ccs25.cssociety.org/" target="_blank">CCS 2025</a></li>
            </ul>
        </div>
    </nav>

    <header>
        <div id="particles-js"></div>
        <div class="container">
            <div class="header-content">
                <div class="header-text">
                    <h1>CoBrain 2025</h1>
                    <h2>Complexity in the Brain</h2>
                    <p class="subtitle">Satellite @ CCS 2025</p>
                    <p class="event-details">September 3rd 2025 • Siena, Italy</p>
                    <a href="https://ccs25.cssociety.org/" class="btn-register">Register via CCS 2025</a>
                </div>
                <!-- <div class="header-image">
                    <img src="brainco2.png" alt="Information in the brain" title="Information in the brain">
                </div> -->
            </div>
        </div>
    </header>

    <main class="container">
        <section id="about" class="about-section">
            <h2>Aims and Topics</h2>
            <div class="section-content">
                <p>The CoBrain satellite workshop aims to bring together researchers from neuroscience, complex systems, and related fields to explore complexity in brain dynamics, structure, and function. This one-day event will feature four keynote presentations and contributed talks discussing cutting-edge methods and theories for understanding the intricate complexity of the brain across multiple scales.</p>
                
                <p>Key topics include:</p>
                <ul>
                    <li>Complex network models of brain connectivity</li>
                    <li>Information theory applied to neural systems</li>
                    <li>Emergent dynamics in neural populations</li>
                    <li>Multi-scale approaches to brain complexity</li>
                    <li>Computational neuroscience and complex systems</li>
                </ul>
            </div>
        </section>

        <section class="registration-section">
            <h2>Registration and Access</h2>
            <div class="section-content">
                <p>The workshop will be held as a part of the CCS*2025 in Siena, Italy. Please see the <a href="https://ccs25.cssociety.org/" target="_blank">CCS 2025</a> website for registration to the satellites (this is required to attend).</p>
                
                <div class="registration-note">
                    <p><strong>Note:</strong> Registration for CCS 2025 provides access to all satellite events, including CoBrain 2025.</p>
                </div>
            </div>
        </section>

    <section id="call-section" class="call-section-section">
    <h2>Call for Contributed Talks</h2>
    <div class="section-content">
        
                <div class="call-note">
                    <div class="session-title"> The call for contributions is closed!</div>
                </div>
        
                <p>
                    We welcome contributions from a wide range of areas within the study of complexity in the brain and computational neuroscience.
                    Each submission received by the Microsoft CMT submission system will be assessed by members of the Program Committee with
                    expertise in the research area. Acceptance will be notified to the corresponding author through CMT.
                </p>
        
                <div class="session-title">Submission Deadline: May 30th</div>
                <div class="session-title">Notification of Acceptance: June 16th</div>
        
                <div class="session-title">How to submit:</div>
                <p>
                    Upload requirements. Please prepare a PDF document of 2 pages maximum. On the first page, you must include the title, authors, and
                    their affiliations, and a full abstract of your talk. The second page can only include one figure with caption, and references.
                    If you are using LaTeX, please download the template linked
                    <a href="https://www.overleaf.com/read/xgvkzhpqwjqd#858c6d">here</a>. If you are using another editor like Word, please convert
                    to PDF before submission. Please indicate your preference for a contributed talk or poster. Note that this preference may not be
                    guaranteed. Ensure uploads are not password protected and are no larger than 5MB in size. The co-authors must be added only in the
                    PDF. Only the corresponding author will need to insert the information on the Microsoft CMT system.
                </p>

                <h2>Instructions for the Authors</h2>
                    <p>
                        Accepted abstracts must be presented by one registered author. This presentation must be in-person.
                        If no author is registered before the deadline, the contribution will be withdrawn from the programme.
                        An author cannot present more than one accepted talk or poster.
                    </p>
            
                    <h3>Before Submission:</h3>
                    <p>
                        To make the submission process smooth for you, please have the following ready when making the upload to the submission portal:
                        presenting author's full name, affiliation, email, and contact number (where you can be reached during the conference).
                        Co-authors' full names, affiliations, and email addresses.
                        A PDF of the abstract.
                        In the Microsoft CMT form, also insert a short 2000-character summary of your abstract and submit it together with the abstract PDF.
                        Once an initial submission is made, it can be edited any time before the submission deadline.
                        For more information, email <a href="mailto:ccsneuro@gmail.com">ccsneuro@gmail.com</a>.
                    </p>

                    <ul>
                    <li>
                    <div class="submission-button">
                        <a href="https://www.overleaf.com/read/xgvkzhpqwjqd#858c6d" target="_blank" class="template-button">Download Overleaf Template</a>
                    </div>
                        
                    </li>
                    <li>
                    <h3>Presentation Guidelines</h3>
                    <p>
                        <strong>Oral Presentations:</strong> Accepted talks will be allocated a 15-minute slot, consisting of 12 minutes for the presentation and
                        3 minutes for audience questions.
                    </p>
                    <p>
                        <strong>Poster Presentations:</strong> Accepted posters will be featured in dedicated poster sessions. All posters should be self-printed
                        in A0 format (84.1 cm × 118.9 cm, portrait orientation).
                    </p>
                    </li>
                    </ul>
            

                <h2>Selection Committee</h2>
                <ul>
                    <li>Loredana Bellantuono</li>
                    <li>Maria Pope</li>
                    <li>Jyotika Baghuna</li>
                    <li>Demian Battaglia</li>
                    <li>Sebastiano Stramaglia</li>
                    <li>Andrea Brovelli</li>
                    <li>Tommaso Gili</li>
                    <li>Wesley Clawson</li>
                    <li>Matteo Saponati</li>
                </ul>
    
                <p><em>
                The <a href="https://cmt3.research.microsoft.com">Microsoft CMT</a> service was used for managing the peer-reviewing process for this conference. This service was provided for free by Microsoft and they bore all expenses, including costs for Azure cloud services as well as for software development and support.
                </em></p>

            </div>
        </section>

        

        <section id="keynote-speakers" class="keynote-speakers-section">
            <h2>Keynote Speakers</h2>
            <div class="speakers-grid">
                <div class="speaker-card">
                    <div class="speaker-image">
                        <img src="igor.jpg" alt="Igor Branchi">
                    </div>
                    <div class="speaker-info">
                        <h3>Igor Branchi</h3>
                        <p class="institution">Italian Institute of Health/Istituto Superiore di Sanità, Italy</p>
                        <p class="talk-title">A network approach to measuring plasticity in mental health</p>
                    </div>
                </div>
                
                <div class="speaker-card">
                    <div class="speaker-image">
                        <img src="michele.png" alt="Michele Nardin">
                    </div>
                    <div class="speaker-info">
                        <h3>Michele Nardin</h3>
                        <p class="institution">HHMI Janelia Research Campus, USA</p>
                        <p class="talk-title">Hierarchical control across scales of physiology and behavior</p>
                    </div>
                </div>
                
                <div class="speaker-card">
                    <div class="speaker-image">
                        <img src="giulio.png" alt="Giulio Pergola">
                    </div>
                    <div class="speaker-info">
                        <h3>Giulio Pergola</h3>
                        <p class="institution">University of Bari Aldo Moro, Italy </p>
                        <p class="talk-title">Talk Title</p>
                    </div>
                </div>
                
                <div class="speaker-card">
                    <div class="speaker-image">
                        <img src="jaroslav.jpg" alt="Jaroslav Hlinka">
                    </div>
                    <div class="speaker-info">
                        <h3>Jaroslav Hlinka</h3>
                        <p class="institution">Czech Academy of Sciences, Czech Republic</p>
                        <p class="talk-title">Nonlinear and higher order interactions in brain from neurons to networks: quantification, sources and localization</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="program" class="program-section">
            <h2>Program</h2>
            <div class="program-table active">
                <table>
                    <tr class="time-row main-conference-row">
                        <td>08:45 - 09:00</td>
                        <td>
                            <div class="session-title">Main Conference: Welcome</div>
                            <div class="session-speakers"></div>
                        </td>
                    </tr>
                    <tr class="time-row main-conference-row">
                        <td>09:00 - 09:45</td>
                        <td>
                            <div class="session-title">Main Conference: Invited Talk</div>
                            <div class="session-speakers"></div>
                        </td>
                    </tr>
                    <tr class="time-row">
                        <td>09:45 - 10:00</td>
                        <td>
                            <div class="session-title">Welcome and Introduction</div>
                            <div class="session-speakers"></div>
                        </td>
                    </tr>
                    <tr class="time-row">
                        <td>10:00 - 11:00</td>
                        <td>
                            <div class="session-title">Session I: TBD</div>
                            <div class="session-talks">
                                <td>10:00 - 10:45</td>
                                <p><strong>Keynote:</strong> Michele Nardin - Hierarchical control across scales of physiology and behavior</p>
                                  <td>10:45 - 11:00</td>
                                <p>	Michele Allegra - Exploring neural manifolds across a wide range of intrinsic dimensions</p>
                            </div>
                        </td>
                    </tr>
                    <tr class="break-row">
                        <td>11:00 - 11:30</td>
                        <td>Coffee Break</td>
                    </tr>
                    <tr class="time-row">
                        <td>11:30 - 12:45</td>
                        <td>
                            <div class="session-title">Session II: TBD</div>
                            <div class="session-talks">
                                <p><strong>Keynote:</strong> Giulio Pergola - Talk Title</p>
                                <p>Loredana Bellantuono - Liquidity of gene co-expression networks highlights the role of the perinatal GABA switch in genetic risk for schizophrenia</p>
                                <p>Riccardo Muolo - Modeling node- and edge-signals via Dirac-Bianconi driven oscillators</p>
                            </div>
                        </td>
                    </tr>
                    <tr class="break-row">
                        <td>13:00 - 14:00</td>
                        <td>Lunch Break</td>
                    </tr>
                    <tr class="time-row main-conference-row">
                        <td>14:00 - 14:45</td>
                        <td>
                            <div class="session-title">Main Conference: Invited Talk</div>
                            <div class="session-speakers"></div>
                        </td>
                    </tr>
                    <tr class="time-row">
                        <td>14:45 - 16:15</td>
                        <td>
                            <div class="session-title">Session III: TBD</div>
                            <div class="session-talks">
                                <p><strong>Keynote:</strong> Igor Branchi - A network approach to measuring plasticity in mental health</p>
                                <p>Contributed Talk</p>
                                <p>Matteo Neri - Beyond Pairwise Interactions: Charting Higher-Order Models of Brain Function</p>
                            </div>
                        </td>
                    </tr>
                    <tr class="break-row">
                        <td>16:15 - 16:45</td>
                        <td>Coffee Break</td>
                    </tr>
                    <tr class="time-row">
                        <td>16:45 - 17:45</td>
                        <td>
                            <div class="session-title">Session IV: TBD</div>
                            <div class="session-talks">
                                <p><strong>Keynote:</strong> Jaroslav Hlinka - Nonlinear and higher order interactions in brain from neurons to networks: quantification, sources and localization</p>
                                <p>Lorenzo Zaffina - Investigating higher-order signatures of emotions in the human brain using film fMRI</p>
                            </div>
                        </td>
                    </tr>
                    <tr class="time-row">
                        <td>17:45 - 18:00</td>
                        <td>
                            <div class="session-title">Closing Session</div>
                            <div class="session-talks">
                                <p>Closing Remarks</p>
                            </div>
                        </td>
                    </tr>
                    <tr class="time-row main-conference-row">
                        <td>18:00 - 19:00</td>
                        <td>
                            <div class="session-title">Main Conference: Plenary Talk</div>
                            <div class="session-speakers"></div>
                        </td>
                    </tr>
                </table>
            </div>
        </section>

        <section id="abst" class="abstracts-section">
            <h2>Abstracts</h2>
            <div class="abstracts-container">
                <div class="abstract-card">
                    <h3>Igor Branchi - A network approach to measuring plasticity in mental health</h3>
                    <p class="abstract-content">
                        Abstract text will appear here.
                    </p>
                </div>
                
                <div class="abstract-card">
                    <h3>Michele Nardin - Hierarchical control across scales of physiology and behavior</h3>
                    <p class="abstract-content">
                        Animal behavior is driven by the need to maintain physiological homeostasis, a process involving a complex interplay of hormones and other bloodstream messengers. While we understand the effect of individual hormones on certain actions, a framework for how these signals operate as a high-dimensional system to guide behavior across temporal scales has been lacking. To address this, we developed a theory-to-data approach. First, a minimal 2-D physiological model with a homeostatic loss revealed a closed-form hierarchy: the slower-recovering variable is prioritized when physiological needs conflict. Second, we used the same loss in a deep RL agent controlling high-D physiological dynamics, which converged on a similar hierarchical strategy. Finally, we conducted empirical tests on freely moving mice, using jugular microdialysis and behavioral tracking. Preliminary data show a low-rank "physiological state space" that aligns with a latent hierarchy of needs and predicts locomotor patterns within the next 5-15 minutes. We conclude discussing how this framework may generalize to other complex adaptive systems, from human health to ecosystems.
                    </p>
                </div>
                
                <div class="abstract-card">
                    <h3>Giulio Pergola - Talk Title</h3>
                    <p class="abstract-content">
                        Abstract text will appear here.
                    </p>
                </div>
                
                <div class="abstract-card">
                    <h3>Jaroslav Hlinka - Nonlinear and higher order interactions in brain from neurons to networks: quantification, sources and localization</h3>
                    <p class="abstract-content">
                        The talk will review some difficult questions concerning brain (hyper)connectivity, and some observations that challenge the view of brain as a highly complex system. To this end, we shall zoom in and out through spatial and temporal scales in search for some exotic, nonlinear and higher-order interaction patterns in brain activity.
                    </p>
                </div>
            </div>
        </section>

        <section id="organizing-committee" class="organizers-section">
            <h2>Organizing Committee</h2>
            <div class="organizers-grid">
                <div class="organizer-card">
                    <div class="organizer-image">
                        <img src="marilyn.png" alt="Marilyn Gatica">
                    </div>
                    <div class="organizer-info">
                        <h3>Marilyn Gatica</h3>
                        <p class="institution">Northeastern University London</p>
                        <p class="role">Chair</p>
                        <!-- <p class="contact"><a href="mailto:marilyn.gatica@nulondon.ac.uk">marilyn.gatica@nulondon.ac.uk</a></p> -->
                    </div>
                </div>
                
                <div class="organizer-card">
                    <div class="organizer-image">
                        <img src="nicola.png" alt="Nicola Pedreschi">
                    </div>
                    <div class="organizer-info">
                        <h3>Nicola Pedreschi</h3>
                        <p class="institution">University of Bari</p>
                        <p class="role">Chair</p>
                    </div>
                </div>
                
                <div class="organizer-card">
                    <div class="organizer-image">
                        <img src="samy.jpeg" alt="Samy Castro">
                    </div>
                    <div class="organizer-info">
                        <h3>Samy Castro</h3>
                        <p class="institution">University of Strasbourg</p>
                        <p class="role">Chair</p>
                    </div>
                </div>
                
                <div class="organizer-card">
                    <div class="organizer-image">
                        <img src="jesseba.jpg" alt="Jesseba Fernando">
                    </div>
                    <div class="organizer-info">
                        <h3>Jesseba Fernando</h3>
                        <p class="institution">Northeastern University Boston</p>
                        <p class="role">Chair</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="https://ccs25.cssociety.org/" target="_blank">CCS 2025</a>
                    <a href="#top-nav">Back to Top</a>
                </div>
                <div class="footer-credit">
                    <p>Contact: <a href="mailto:marilyn.gatica@nulondon.ac.uk">Marilyn Gatica</a> | Last Updated: 05/03/2025</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Load particles.js from CDN with specific version -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    
    <!-- Initialize particles.js with brain-like appearance -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Basic particles.js configuration for a brain-like network
            particlesJS("particles-js", {
                "particles": {
                    "number": {
                        "value": 300,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": ["#00bfff", "#87ceeb", "#1e90ff", "#00ffff"]
                    },
                    "shape": {
                        "type": "circle"
                    },
                    "opacity": {
                        "value": 0.8,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 0.9,
                            "opacity_min": 0.8,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 4,
                        "random": true
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 100,
                        "color": "#63A375",
                        "opacity": 0.6,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 0.9,
                        "direction": "none",
                        "random": true,
                        "straight": false,
                        "out_mode": "bounce",
                        "attract": {
                            "enable": true,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": true,
                            "mode": "grab"
                        },
                        "onclick": {
                            "enable": true,
                            "mode": "push"
                        },
                        "resize": true
                    },
                    "modes": {
                        "grab": {
                            "distance": 150,
                            "line_linked": {
                                "opacity": 1
                            }
                        },
                        "push": {
                            "particles_nb": 4
                        }
                    }
                }
            });
            
            // Custom gold highlight effect
            setTimeout(function() {
                const pJSCanvas = document.querySelector('#particles-js canvas');
                if (pJSCanvas) {
                    // Store the original line color
                    const originalLineColor = '#4682b4'; // Steel blue
                    const goldHighlightColor = '#FFD700'; // Gold
                    
                    // Add mouse move listener to the particles canvas
                    pJSCanvas.addEventListener('mousemove', function(event) {
                        // Get particle container instance
                        if (window.pJSDom && window.pJSDom[0] && window.pJSDom[0].pJS) {
                            const pJS = window.pJSDom[0].pJS;
                            
                            if (pJS.interactivity.status === 'mousemove') {
                                // Change the line linked color to gold for connections near the mouse
                                if (pJS.interactivity.mouse.position_x && pJS.interactivity.mouse.position_y) {
                                    for (let i = 0; i < pJS.particles.array.length; i++) {
                                        const particle = pJS.particles.array[i];
                                        const dx = pJS.interactivity.mouse.position_x - particle.x;
                                        const dy = pJS.interactivity.mouse.position_y - particle.y;
                                        const dist = Math.sqrt(dx * dx + dy * dy);
                                        
                                        if (dist <= 180) {
                                            particle.color.rgb = hexToRgb(goldHighlightColor);
                                        } else {
                                            particle.color.rgb = hexToRgb(particle.color.value);
                                        }
                                    }
                                }
                            }
                        }
                    });
                    
                    // Helper function to convert hex to RGB
                    function hexToRgb(hex) {
                        if (typeof hex === 'object') return hex;
                        
                        const shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
                        hex = hex.replace(shorthandRegex, function(m, r, g, b) {
                            return r + r + g + g + b + b;
                        });

                        const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
                        return result ? {
                            r: parseInt(result[1], 16),
                            g: parseInt(result[2], 16),
                            b: parseInt(result[3], 16)
                        } : { r: 0, g: 0, b: 0 };
                    }
                }
            }, 500); // Small delay to ensure particles.js is fully initialized
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
        // First, adjust the header layout - move text to left
        const headerText = document.querySelector('.header-text');
        if (headerText) {
            headerText.style.textAlign = 'left';
            headerText.style.maxWidth = '60%';
        }
        
        const headerContent = document.querySelector('.header-content');
        if (headerContent) {
            headerContent.style.flexDirection = 'row';
            headerContent.style.justifyContent = 'space-between';
            headerContent.style.alignItems = 'center';
        }
        
        // Wait for particles.js to initialize
        setTimeout(function() {
            if (!window.pJSDom || !window.pJSDom[0] || !window.pJSDom[0].pJS) return;
            
            const pJS = window.pJSDom[0].pJS;
            const particles = pJS.particles;
            
            // Exact brain coordinates you provided
            const rawCoordinates = [
                {x: 303, y: 11},
                {x: 279, y: 20},
                {x: 241, y: 19},
                {x: 204, y: 28},
                {x: 166, y: 45},
                {x: 128, y: 64},
                {x: 96, y: 88},
                {x: 70, y: 130},
                {x: 54, y: 169},
                {x: 53, y: 223},
                {x: 73, y: 254},
                {x: 109, y: 284},
                {x: 146, y: 284},
                {x: 185, y: 284},
                {x: 198, y: 310},
                {x: 219, y: 338},
                {x: 249, y: 343},
                {x: 291, y: 347},
                {x: 333, y: 338},
                {x: 360, y: 369},
                {x: 379, y: 403},
                {x: 390, y: 441},
                {x: 411, y: 447},
                {x: 421, y: 431},
                {x: 433, y: 403},
                {x: 487, y: 400},
                {x: 523, y: 373},
                {x: 544, y: 341},
                {x: 565, y: 327},
                {x: 580, y: 296},
                {x: 588, y: 262},
                {x: 583, y: 215},
                {x: 578, y: 173},
                {x: 560, y: 152},
                {x: 539, y: 112},
                {x: 516, y: 95},
                {x: 496, y: 73},
                {x: 470, y: 52},
                {x: 437, y: 40},
                {x: 402, y: 30},
                {x: 369, y: 18},
                {x: 340, y: 12}
            ];
            
            // Find the boundaries of the original coordinates
            let minX = Number.MAX_VALUE;
            let minY = Number.MAX_VALUE;
            let maxX = Number.MIN_VALUE;
            let maxY = Number.MIN_VALUE;
            
            rawCoordinates.forEach(coord => {
                minX = Math.min(minX, coord.x);
                minY = Math.min(minY, coord.y);
                maxX = Math.max(maxX, coord.x);
                maxY = Math.max(maxY, coord.y);
            });
            
            const origWidth = maxX - minX;
            const origHeight = maxY - minY;
            
            // Normalize coordinates to 0-1 range for adaptability
            const brainShape = rawCoordinates.map(coord => {
                return {
                    x: (coord.x - minX) / origWidth,
                    y: (coord.y - minY) / origHeight
                };
            });
            
            // Generate internal nodes for a denser brain network
            const internalNodes = [];
            for (let i = 0; i < 40; i++) {
                // Pick three random points from the original outline
                const idx1 = Math.floor(Math.random() * brainShape.length);
                const idx2 = Math.floor(Math.random() * brainShape.length);
                const idx3 = Math.floor(Math.random() * brainShape.length);
                
                // Create a random point inside the triangle formed by these three points
                const r1 = Math.random();
                const r2 = Math.random();
                
                // Ensure we stay within the triangle (barycentric coordinates)
                let r1Adjusted = r1;
                let r2Adjusted = r2;
                if (r1 + r2 > 1) {
                    r1Adjusted = 1 - r1;
                    r2Adjusted = 1 - r2;
                }
                const r3 = 1 - r1Adjusted - r2Adjusted;
                
                const x = brainShape[idx1].x * r1Adjusted + brainShape[idx2].x * r2Adjusted + brainShape[idx3].x * r3;
                const y = brainShape[idx1].y * r1Adjusted + brainShape[idx2].y * r2Adjusted + brainShape[idx3].y * r3;
                
                internalNodes.push({x, y});
            }
            
            // Combine outline and internal nodes
            const fullBrainShape = [...brainShape, ...internalNodes];
            
            // Function to transform particles into brain shape
            function formBrainShape() {
                // Don't do anything if there aren't enough particles
                if (particles.array.length < fullBrainShape.length * 0.8) return;
                
                // Get canvas dimensions
                const canvasWidth = pJS.canvas.w;
                const canvasHeight = pJS.canvas.h;
                
                // Position brain on the right side of the header
                const scale = Math.min(canvasWidth * 0.4, canvasHeight * 0.7); // Adjust scale to fit right side
                const centerX = canvasWidth * 0.75; // Adjust position to the right
                const centerY = canvasHeight * 0.5; // Center vertically
                
                // Store original positions and velocities for all particles
                for (let i = 0; i < particles.array.length; i++) {
                    const p = particles.array[i];
                    p.original_x = p.x;
                    p.original_y = p.y;
                    p.original_vx = p.vx;
                    p.original_vy = p.vy;
                    p.original_opacity = p.opacity.value;
                    p.original_color = p.color.value;
                    p.original_radius = p.radius;
                }
                
                // Move particles to brain shape, keeping some in random positions for network effect
                const particlesToUse = Math.min(fullBrainShape.length, Math.floor(particles.array.length * 0.8)); // Use 80%
                const shuffledIndices = shuffleArray([...Array(particles.array.length).keys()]);
                
                for (let i = 0; i < particlesToUse; i++) {
                    const particleIndex = shuffledIndices[i];
                    
                    // For outline nodes, use exact positions
                    if (i < brainShape.length) {
                        const targetX = centerX + (fullBrainShape[i].x - 0.5) * scale;
                        const targetY = centerY + (fullBrainShape[i].y - 0.5) * scale;
                        
                        // Set brain target position
                        particles.array[particleIndex].brain_target_x = targetX;
                        particles.array[particleIndex].brain_target_y = targetY;
                        particles.array[particleIndex].is_brain_node = true;
                        particles.array[particleIndex].is_outline = true; // Mark as outline node
                        
                        // Make outline nodes larger and more visible
                        particles.array[particleIndex].color.value = "#00EAFF"; // Bright cyan
                        particles.array[particleIndex].radius = 4; // Larger for visibility
                        particles.array[particleIndex].opacity.value = 1; // Full opacity
                    } else {
                        // For internal nodes, add some randomness
                        const nodeIndex = i % fullBrainShape.length;
                        const randomOffset = 0.05;
                        const targetX = centerX + (fullBrainShape[nodeIndex].x - 0.5 + (Math.random() - 0.5) * randomOffset) * scale;
                        const targetY = centerY + (fullBrainShape[nodeIndex].y - 0.5 + (Math.random() - 0.5) * randomOffset) * scale;
                        
                        particles.array[particleIndex].brain_target_x = targetX;
                        particles.array[particleIndex].brain_target_y = targetY;
                        particles.array[particleIndex].is_brain_node = true;
                        
                        // Make internal nodes slightly different
                        particles.array[particleIndex].color.value = "#1E90FF"; // Royal blue
                        particles.array[particleIndex].radius = 3; // Medium size
                        particles.array[particleIndex].opacity.value = 0.8; // Good opacity
                    }
                    
                    // Slow down movement but don't stop completely
                    particles.array[particleIndex].vx *= 0.2;
                    particles.array[particleIndex].vy *= 0.2;
                }
                
                // Flag particles as moving to brain shape
                pJS.particles.moving_to_brain = true;
                pJS.particles.brain_formation_time = Date.now();
                
                // Start the animation
                animateToBrainShape();
                
                // Set timeout to return to normal after 8 seconds
                setTimeout(function() {
                    returnToNormal();
                }, 3000);
            }
            
            // Fisher-Yates shuffle algorithm
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }
            
            // Animate particles to brain shape
            function animateToBrainShape() {
                if (!pJS.particles.moving_to_brain) return;
                
                let stillMoving = false;
                
                for (let i = 0; i < particles.array.length; i++) {
                    const p = particles.array[i];
                    
                    // Only animate particles that have a brain target
                    if (p.brain_target_x !== undefined && p.brain_target_y !== undefined) {
                        // Calculate distance to target
                        const dx = p.brain_target_x - p.x;
                        const dy = p.brain_target_y - p.y;
                        const distance = Math.sqrt(dx*dx + dy*dy);
                        
                        if (distance > 2) {
                            // Move towards target (faster for quicker formation)
                            p.x += dx * 0.1;
                            p.y += dy * 0.1;
                            stillMoving = true;
                        } else {
                            // If close enough, keep slight movement
                            if (p.is_outline) {
                                // Less movement for outline nodes (stay more in position)
                                p.x = p.brain_target_x + (Math.random() - 0.5) * 1.5;
                                p.y = p.brain_target_y + (Math.random() - 0.5) * 1.5;
                            } else {
                                // More movement for internal nodes
                                p.x = p.brain_target_x + (Math.random() - 0.5) * 3;
                                p.y = p.brain_target_y + (Math.random() - 0.5) * 3;
                            }
                        }
                    }
                }
                
                if (stillMoving) {
                    requestAnimationFrame(animateToBrainShape);
                }
            }
            
            // Return particles to normal movement
            function returnToNormal() {
                if (!pJS.particles.moving_to_brain) return;
                
                pJS.particles.moving_to_brain = false;
                
                // Reset all particle properties gradually
                for (let i = 0; i < particles.array.length; i++) {
                    const p = particles.array[i];
                    
                    // Restore original colors and sizes
                    if (p.original_color) {
                        p.color.value = p.original_color;
                    }
                    
                    if (p.original_radius) {
                        p.radius = p.original_radius;
                    }
                    
                    if (p.original_opacity) {
                        p.opacity.value = p.original_opacity;
                    }
                    
                    // Gradually restore original velocity
                    p.vx = (p.original_vx || (Math.random() - 0.5)) * (Math.random() * 0.5 + 0.3);
                    p.vy = (p.original_vy || (Math.random() - 0.5)) * (Math.random() * 0.5 + 0.3);
                    
                    // Add randomness to velocity for natural dispersion
                    p.vx += (Math.random() - 0.5) * 2;
                    p.vy += (Math.random() - 0.5) * 2;
                    
                    // Clear brain target properties
                    delete p.brain_target_x;
                    delete p.brain_target_y;
                    delete p.is_brain_node;
                    delete p.is_outline;
                    delete p.original_x;
                    delete p.original_y;
                    delete p.original_vx;
                    delete p.original_vy;
                    delete p.original_color;
                    delete p.original_radius;
                    delete p.original_opacity;
                }
            }
            
            // Enhancement function to draw connecting lines between brain particles
            function enhanceBrainLinks() {
                if (!pJS.particles.moving_to_brain) return;
                
                // Get the canvas context
                const ctx = pJS.canvas.ctx;
                if (!ctx) return;
                
                // Find all brain outline particles
                const outlineParticles = particles.array.filter(p => p.is_outline === true);
                
                // Draw connecting lines for the brain outline
                ctx.strokeStyle = "#00EAFF"; // Bright cyan
                ctx.lineWidth = 0.5;
                ctx.globalAlpha = 0.4;
                
                ctx.beginPath();
                
                // Draw continuous line through outline points in order
                for (let i = 0; i < outlineParticles.length; i++) {
                    const p1 = outlineParticles[i];
                    const p2 = outlineParticles[(i + 1) % outlineParticles.length];
                    
                    ctx.moveTo(p1.x, p1.y);
                    ctx.lineTo(p2.x, p2.y);
                }
                
                ctx.stroke();
                ctx.globalAlpha = 1.0; // Reset alpha
            }
            
            // Hook into the particles draw loop to apply enhancements
            const originalDraw = pJS.fn.particlesDraw;
            pJS.fn.particlesDraw = function() {
                originalDraw.call(this);
                
                if (pJS.particles.moving_to_brain) {
                    enhanceBrainLinks();
                }
            };
            
            // Trigger brain formation periodically
            setInterval(formBrainShape, 30000);
            
            // Trigger once after initial delay
            setTimeout(formBrainShape, 3000);
            
        }, 2000); // Increased wait time for particles.js to fully initialize
    });
    </script>
</body>
</html>



